<h1>Listing Conferences</h1>
<table id="conference" class="display" width="100%" cellspacing="0">
  <thead>
    <tr>
        <th>Conference Name</th>
        <th>Year</th>
        <th>Date</th>
        <th>Attenders</th>
        <th>Shedule</th>
        <th>Location</th>
        <th>Report</th>
        <th>Show</th>
        <th>Edit</th>
        <th>Delete</th>
<!-- <th colspan="3"> <center>Actions</center></th> not working with dataTable gem -->
    </tr>
  </thead>
  <tbody>
      <% @conferences.each do |conference| %>
      <tr>
          <td><%= link_to conference.name, controller: 'admin/events', action: 'index', conf_id: conference.id %></td>
          <td><%= conference.year %></td>
          <td><%= conference.date %></td>
          <td><%= conference.attenders %></td>
          <td><%= link_to 'Schedule', schedule_admin_conference_path(conference.route)%></td>
          <td><%= unless(conference.location.nil?)
                    link_to "#{conference.location.address}, #{conference.location.city}", location_conference_path(conference.route)
                  else
                    link_to "Create Location", controller: 'admin/locations', action: 'new', conf_id: conference.id, conf_fname: conference.fullname
                  end %></td>
          <td><%= unless(conference.report.nil?)
                    link_to "#{conference.report.address}", report_conference_path(conference.route)
                  else
                    link_to "Create", new_report_path()
                  end %></td>
          <td><%= link_to 'Publish', about_conference_path(conference.route) %></td>
          <td><%= link_to 'Edit', edit_admin_conference_path(conference.route) %></td>
          <td><%= link_to 'Destroy', admin_conference_path(conference.route), method: :delete, data: { confirm: 'Are you sure?' } %></td>
      </tr>
    <% end %>
  </tbody>
</table>
<script type="text/javascript">
  $(document).ready(function() {
    $('#conference').dataTable({
      paging: true
    });
  });
</script>
<br>
<%= link_to 'New Conference', new_admin_conference_path, class: "btn btn-default btn-sm" %>